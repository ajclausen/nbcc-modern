---
import { siteConfig } from '@/data/siteConfig';

interface Props {
  text?: string;
}

const { text = siteConfig.name } = Astro.props;
---

<h1 class="relative" aria-label={text}>
  <!-- SVG Animated Version (for non-reduced-motion) -->
  <svg
    viewBox="0 0 800 100"
    class="w-full max-w-4xl mx-auto h-auto motion-reduce:hidden"
    aria-hidden="true"
    role="img"
  >
    <defs>
      <linearGradient id="title-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" stop-color="white" />
        <stop offset="100%" stop-color="#dbeafe" />
      </linearGradient>
    </defs>
    <text
      x="50%"
      y="50%"
      dominant-baseline="middle"
      text-anchor="middle"
      class="handwrite-text"
      fill="url(#title-gradient)"
      stroke="white"
      stroke-width="0.5"
      font-family="'Caveat', cursive"
      font-size="48"
      font-weight="600"
    >
      {text}
    </text>
  </svg>

  <!-- Static Fallback (for reduced-motion) -->
  <span class="hidden motion-reduce:block font-handwritten text-4xl md:text-5xl lg:text-6xl xl:text-7xl text-white text-center">
    {text}
  </span>

  <!-- Screen reader text -->
  <span class="sr-only">{text}</span>
</h1>

<style>
  /* Handwriting animation */
  .handwrite-text {
    stroke-dasharray: 2000;
    stroke-dashoffset: 2000;
    fill-opacity: 0;
  }

  @media (prefers-reduced-motion: no-preference) {
    .handwrite-text {
      animation: handwrite 3s ease-out forwards;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .handwrite-text {
      stroke-dashoffset: 0;
      fill-opacity: 1;
    }
  }

  @keyframes handwrite {
    0% {
      stroke-dashoffset: 2000;
      fill-opacity: 0;
    }
    60% {
      fill-opacity: 0;
    }
    100% {
      stroke-dashoffset: 0;
      fill-opacity: 1;
    }
  }
</style>
